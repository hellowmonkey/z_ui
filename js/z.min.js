!function(w,d,$){function album(t){t.css("cursor","pointer"),$("body").on("click",t.selector,function(){if(this.src&&!$(this).zdata("src")){var t=$(this).zdata("bigsrc")||this.src,e=['<div class="z-album">','<span class="z-close z-action-close" zdata-box=".z-album">&times;</span>','<div class="z-album-content z-anim-ms3 '+getAnim()+'">',"</div>",loadingHtml,"</div>"],n=$(e.join(""));$.createShade(function(){n.css("zIndex",z.zIndex()),$("body").append(n),loadImg(t,function(t){n.find(".z-anim-rotate").remove();var e=n.find(".z-album-content"),i=winWidth>768?100:20,o=t.width,a=t.height,s=winWidth-i,l=winHeight-i,r=o,c=a;o>a?(r=Math.min(o,s),c=a*r/o,$(t).css("maxHeight","100%")):(c=Math.min(a,l),r=o*c/a,$(t).css("maxWidth","100%")),e.width(r).height(c),e.show().html(t).css({marginLeft:-r/2-2,marginTop:-c/2-2})})},function(){doClose(n,null,!0,n.children(".z-album-content"))})}})}function lazyimg(t,e){function n(n,o){var l=e.scrollTop(),r=l+o,c=s?function(){return n.offset().top-e.offset().top+l}():n.offset().top;if(c>=l&&r>=c&&!n.attr("src")){var d=n.zdata("src");loadImg(d,function(){var e=t.eq(a);n.attr("src",d).removeAttr("zdata-src"),e[0]&&i(e),a++})}}function i(i,o){var l=s?(o||e).height():winHeight,r=e.scrollTop(),c=r+l;if(i)n(i,l);else for(var d=0;d<t.length;d++){var f=t.eq(d),u=s?function(){return f.offset().top-e.offset().top+r}():f.offset().top;if(n(f,l),a=d,u>c)break}}var o,a=0,s=e&&e!==d;if(e=$(e),i(),!o){var l;e.on("scroll",function(){var t=$(this);l&&clearTimeout(l),l=setTimeout(function(){i(null,t)},100)}),o=!0}}function loadImg(t,e,n){var i=new Image;return i.src=t,i.complete?e(i):(i.onload=function(){i.onload=null,e(i)},void(i.onerror=function(t){i.onerror=null,n&&n(t)}))}function flow(t,e){function n(t,n){r.text(e.eleTxt).before(t),n=0==n?!0:null,n&&r.addClass("z-disabled").text(e.endTxt),a=n,o=null,s&&s()}function i(){o=!0,r.html(e.loadingTxt),"function"===$.type(e.done)&&e.done(++c,n)}var o,a,s,l,r=$('<button type="button" class="z-btn z-block z-btn-flow">'+e.eleTxt+"</button>"),c=1,f=e.scrollElem&&e.scrollElem!==d;return t.find(".z-btn-flow").length||t.append(r),r.on("click",function(){a||o||i()}),e.isLazyimg&&t.lazyimg(),e.isAuto?($(e.scrollElem).on("scroll",function(){var n=$(this),s=n.scrollTop();return l&&clearTimeout(l),a?t:void(l=setTimeout(function(){var t=f?n.innerHeight():winHeight,a=f?n.prop("scrollHeight"):d.documentElement.scrollHeight;a-s-t<=e.mb&&(o||i())},100))}),t):t}function numberBox(t,e){var n=t.find(e.input),i=t.find(e.next),o=t.find(e.prev),a=bool(e.step),s=bool(e.max),l=bool(e.min);n&&i&&o&&n.length&&i.length&&o.length&&(s&&l>s||(n.off("change").on("change",function(){var t=parseFloat($(this).val());isNaN(t)&&(t=l),l>=t?($(this).val(l),o.addClass("z-disabled")):o.removeClass("z-disabled"),s&&t>=parseFloat(s)?($(this).val(s),i.addClass("z-disabled")):i.removeClass("z-disabled")}),i.off("click").on("click",function(){var t=parseFloat(n.val());$(this).hasClass("z-disabled")||(t+=a,n.val(t).change())}),o.off("click").on("click",function(){var t=parseFloat(n.val());$(this).hasClass("z-disabled")||(t-=a,n.val(t).change())}),n.change()))}function mobileNav(t,e){var n=!0,i=t.find(e.item),o=$('<ul class="z-nav z-nav-tree z-nav-mobile '+e.class+'"></ul>'),a="",s=$(e.menu);i.each(function(){$(this).hasClass(e.logo.replace(",",""))&&(a=$(this)),o.append($(this).addClass("z-nav-item"))}),t.html(a).append(s).addClass("z-nav-fixed-top").removeClass("z-action-mobilenav"),o.find(e.child).each(function(){$(this).removeClass(e.child.substr(1)).addClass("z-nav-child").parent().removeClass("z-dropdown")}),e.style&&o.css(style),e.toggle&&o.addClass("z-nav-toggle"),t.after(o),s.on("click",function(){if(!n)return!1;n=!1;var e=$(this);o.is(":hidden")?($.createShade(function(){o.css("zIndex",z.zIndex()).show().animate({left:0},transTime),e.html("&times"),n=!0},function(){s.click()},".12"),t.css("zIndex",z.zIndex())):o.animate({left:"-200px"},transTime,function(){o.hide(),e.html(menuCode),closeShade(function(){n=!0})})}),$(d).swiperight(function(){return o.is(":hidden")?void s.click():!1}),$(d).swipeleft(function(){return o.is(":hidden")?!1:void s.click()})}function swipe(t,e,n){var i=0,o=0,a=event,s=!1,l=null;e.on("touchstart",function(t){t.stopPropagation(),a=t.originalEvent.touches[0],i=a.clientX,o=a.clientY,s=!0,l=setTimeout(function(){s=!1},transTime)}),e.on("touchend",function(e){e.stopPropagation(),a=e.originalEvent.changedTouches[0];var r="left"===t?i-a.clientX:a.clientX-i;r>50&&Math.abs(o-a.clientY)<50&&(n&&s&&n(),l&&clearTimeout(l))})}function resetForm(t){t.each(function(t){var e=this.checked,n=this.name,i=n+t.toString(),o=this.type;if("noreform"===$(this).zdata("action"))return $(this).show(),!0;if("undefined"===$.type($(this).zdata("name"))){var a='<div class="z-unselect z-form-'+o+function(){return e?" "+zActive:""}()+'" zdata-id="'+i+'" zdata-name="'+n+'"><i class="z-anim z-icon">'+function(){return"radio"==o?"&#xe998;":"&#xe615;"}()+"</i><span>"+this.title+"</span></div>";$(this).zdata("id",i),$(this).after(a)}})}function include(t,e,n){function i(){if(l<e.length){var n=e[l];if(getZsrc(n))return void o();n.substr(-s.length)!==s&&(n+=s),-1===n.indexOf("http://")&&-1===n.indexOf("https://")&&(n=z.root_path+n),"js"===t?(a=d.createElement("script"),a.src=n):"css"===t&&(a=d.createElement("link"),a.rel="stylesheet",a.href=n),d.head.appendChild(a),a.onload=function(){o()}}}function o(){l===e.length-1?n&&n():(l++,i())}if(e&&("string"===$.type(e)&&(e=[e]),"array"===$.type(e))){var a,s="."+t,l=0;i()}}function getZsrc(t){for(var e=d.getElementsByTagName("script"),n=0;n<e.length;n++){var i=e[n];if(t&&-1!==i.src.indexOf(t))return!0;if(!t&&-1!==i.src.indexOf("js/z.js"))return i.src.replace("z.js","");if(!t&&-1!==i.src.indexOf("js/z.min.js"))return i.src.replace("z.min.js","")}return!1}function pro_firm(t,e,n,i,o){"array"===$.type(n)&&(i=n,o=i,n=""),"function"===$.type(n)&&(o=n,n="",i=[]),"function"===$.type(i)&&(o=i,i=[]),"string"===$.type(i)?i=["取消",i]:i&&i.length?i.length<2&&i.unshift("取消"):i=["取消","确认"],"confirm"===t?n=n||z.title.confirm:"prompt"===t&&(e='<input type="text" autofocus class="z-input" placeholder="'+n+'" />',n=n||z.title.prompt),i=i.slice(0,2),showMsg(t,e||"",n,i,function(t,e){doClose(t,function(){e>0&&o&&o(t.find(".z-input").val())})})}function getAnim(){return z.anims[Math.floor(Math.random()*(z.anims.length-1))]}function showMsg(t,e,n,i,o){var a="",s=[],l=["alert","confirm","prompt","open"],r=4e3;if(-1!==$.inArray(t,l)){"array"===$.type(n)&&(i=n,o=i,n=""),s=['<div class="z-modal '+function(){return"open"===t?"":"z-modal-sm"}()+" z-anim-ms3 "+getAnim()+'">','<div class="z-modal-content z-move">','<div class="z-modal-header z-move-title z-action-move">','<button type="button" class="z-close z-action-close">&times;</button>','<h4 class="z-modal-title">'+n+"</h4>","</div>",'<div class="z-modal-body">',e,"</div>",'<div class="z-modal-footer z-text-center">'];for(var c=0;c<i.length;c++)i[c].length&&s.push('<button type="button" class="z-btn z-btn-'+function(){return 0===c?"default":"primary"}()+'">'+i[c]+"</button>");s.push("</div></div></div>"),a=$(s.join("")),$.createShade(function(){$("body").append(a),a.css("zIndex",z.zIndex()).show();var t=a.find(".z-modal-content"),e=t.innerWidth(),n=t.innerHeight(),i=winWidth,s=winHeight;t.css({margin:0,top:(s-n)/3>0?(s-n)/3:0,left:(i-e)/2>0?(i-e)/2:0}),a.find(".z-btn").on("click",function(){o(a,$(this).index())})})}else if("msg"===t)$(".z-msg").remove(),a=$('<div class="z-msg z-anim-scaleSpring z-anim-ms3" style="z-index:'+z.zIndex()+'">'+e+"</div>"),$("body").append(a),a.css({marginTop:-a.innerHeight()/2,marginLeft:-a.innerWidth()/2}),setTimeout(function(){a.hide(closeTime,function(){a.remove()})},r);else{var d=n;s=['<div class="z-alert z-alert-'+d+' z-alert-box z-alert-dismissible z-anim-downbit z-anim-ms3" style="z-index:'+z.zIndex()+'">','<button type="button" class="z-close z-action-close">&times;</button>',e,"</div>"],a=$(s.join("")),$("body").append(a),setTimeout(function(){doClose(a)},r)}}function doClose(t,e,n,i){function o(){n&&t.remove(),e&&e()}var i=i||t,a=closeTime;"undefined"===$.type(n)&&(n=!0),n=bool(n),n?i.flyOut(.7*a,o):t.slideUp(a,o),closeShade(1.5*a)}function button(t,e){if("loading"===e){if(t.hasClass("z-disabled"))return!1;var n=t.zdata("loading-text")||"loading";n=loadingHtml+"  "+n,t.attr("disabled","true").addClass("z-disabled").attr("zdata-old-text",t.text()).html(n)}else if("reset"===e){if(!t.hasClass("z-disabled"))return!1;var n=t.zdata("old-text")||"resetBtn";t.removeAttr("disabled").removeAttr("zdata-old-text").removeClass("z-disabled").html(n)}return t}function tips(t,e){var n=null;$("body").off("mouseenter").on("mouseenter",t,function(){var t=this.title,i=$(this).zdata("title");if(t||i){t&&($(this).zdata("title",t),$(this).removeAttr("title")),e=getOpts($(this),e);var o=this.offsetWidth,a=$(this).offset(),s=$(this).zdata("title"),l="",r=['<div class="z-tipsbox z-anim-scale z-anim-ms2" style="z-index:'+z.zIndex()+";top:"+(a.top-40)+"px;left:"+function(){var t=a.left;return 17>o&&(t-=17),0>t&&(t=0),t}()+'px">','<div class="z-tipsbox-content"'+function(){var t='style="';return"black"!==e.bgColor&&(t+="background-color: "+e.bgColor+";"),"white"!==e.txtColor&&(t+="color: "+e.txtColor+";"),t+='"'}()+">",s,'</div><i style="border-right-color:'+e.bgColor+'"></i>',"</div>"];l=$(r.join("")),$(".z-tipsbox").remove(),$("body").append(l);var c=a.top-l.innerHeight()-10;c-$(d).scrollTop()<0?l.css("top",a.top+$(this).innerHeight()+10).find("i").css({top:"-8px",bottom:"auto"}):l.css("top",c),bool(e.autoDie)&&(n&&clearTimeout(n),n=setTimeout(function(){l.remove()},5e3))}}),$("body").off("mouseleave").on("mouseleave",t,function(){n&&clearTimeout(n),$(".z-tipsbox").remove()})}function move(t,e){var n=!1,i=0,o=0,a=0,s=0,l=winWidth,r=winHeight;$(w).on("mousemove",function(c){if(n){var d=c||event;d.stopPropagation(),d.preventDefault();var f=$(t).parents(e.box),u=mousePosition(d),h=u.left-o,m=u.top-i;m<e.top&&(m=e.top),h<e.left&&(h=e.left),m>r-s-e.bottom&&(m=r-s-e.bottom),h>l-a-e.right&&(h=l-a-e.right),f.css({left:h,top:m})}}),$("body").on("mousedown",t,function(t){n=!0;var l=t||event,r=$(this).parents(e.box),c=r.position(),d=mousePosition(l);a=r.innerWidth(),s=r.innerHeight(),i=d.top-c.top,o=d.left-c.left}),$("body").on("mouseup",t,function(){n=!1})}function mousePosition(t){return{top:t.clientY,left:t.clientX}}function slider(t,e){function n(t){d=!1,t=t||"left","left"===t?(Math.abs(m)>=(r-2)*i&&(m=0,h.css(p,m)),m-=i):"right"===t?(Math.abs(m)<=i&&(m=-(r-1)*i,h.css(p,m)),m+=i):m=t,h.animate({marginLeft:m},e.speed,function(){f=parseInt((Math.abs(m)-i)/i),u&&u.removeClass(zActive).eq(f).addClass(zActive),e.complete&&e.complete(o.eq(f+1)),d=!0})}e=getOpts(t,e);var i=t.innerWidth(),o=t.find(e.item),a=t.find(e.items),s=t.find(e.prev),l=t.find(e.next),r=o.length,c=null,d=!0,f=0,u=null,h=null,m=-i,p="marginLeft";if(bool(e.dots)&&(t.append('<div class="z-dots">'+function(){for(var t="",e=0;r>e;e++)t+=0===e?'<a href="javascript:;" class="'+zActive+'"></a>':'<a href="javascript:;"></a>';return t}()+"</div>"),u=t.find(".z-dots>a"),bool(e.keys)&&u.on("click",function(){n(-($(this).index()+1)*i)})),t.width(i),r>1){var v=o.eq(0).clone(),g=o.eq(r-1).clone();if(a.prepend(g),a.append(v),o=t.find(e.item),r=o.length,a.wrap("<div></div>"),h=a.parent(),h.css(p,m),o.width(i),a.height(o.innerHeight()).width(r*i),c=setInterval(n,e.delay),z.isMobile){var b=null,x=0,y="left",w=0;s.remove(),l.remove(),t.on("touchmove",function(t){t.stopPropagation(),t.preventDefault(),w=b.clientX-x,b=t.originalEvent.changedTouches[0],h.css(p,m+w)}),t.on("touchstart",function(t){t.preventDefault(),t.stopPropagation(),b=t.originalEvent.touches[0],x=b.clientX,clearInterval(c)}),t.on("touchend",function(t){t.preventDefault(),t.stopPropagation(),b=t.originalEvent.changedTouches[0],y=b.clientX-x>0?"right":"left",n(y),c=setInterval(n,e.delay)})}else t.on("mouseenter",function(){clearInterval(c)}),t.on("mouseleave",function(){c=setInterval(n,e.delay)}),s.on("click",function(){clearInterval(c),d&&n("left")}),l.on("click",function(){clearInterval(c),d&&n("right")})}}function supportCss3(t){var e,n=["webkit","Moz","ms","o"],i=[],o=d.documentElement.style,a=function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})};for(e in n)i.push(a(n[e]+"-"+t));i.push(a(t));for(e in i)if(i[e]in o)return!0;return!1}function aniBox(t,e){function n(){if(!i){var e=$(d).scrollTop();if(o>=e){var n=[];if(t.each(function(){var t=$(this);t.zdata("aniName")&&parseInt(t.zdata("top"))<=e+winHeight&&n.push(t)}),n.length)var a=0,s=setInterval(function(){if(a>=n.length)return void clearInterval(s);var t=n[a];t.addClass(t.zdata("aniName")).addClass("z-anim-ms"+parseInt(t.zdata("aniTime"))/100).removeAttr("zdata-top").removeAttr("zdata-aniName").removeAttr("zdata-aniTime").animate({opacity:1},transTime),++a},100)}else t.css("opacity",1),i=!0}}var i=!1;t.each(function(){var t=$(this).offset().top;aniBoxTops.push(t),$(this).css("opacity",0).zdata("top",t),$(this).zdata("aniName")||$(this).zdata("aniName",e.aniName?e.aniName:getAnim()),$(this).zdata("aniTime")||$(this).zdata("aniTime",e.aniTime)});var o=Math.max.apply({},aniBoxTops);o=Math.min(o,$(d).innerHeight()-winHeight),n(),$(w).on("scroll",n)}function getOpts(t,e,n){var i=e;return n&&(i=$.extend({},e,n)),$.each(i,function(e){"undefined"!==$.type(t.zdata(e))&&(i[e]=t.zdata(e))}),i}function bool(t){return"undefined"===$.type(t)?!1:"boolean"===$.type(t)?t:"false"==t?!1:!0}function isMobile(){return navigator.userAgent.match(/mobile/i)}function closeShade(t,e){return zShade?("function"===$.type(t)&&(e=t,t=transTime),t=t||transTime,void zShade.fadeOut(t,function(){zShade.remove(),$("body").removeClass("overflow"),zShade=null,e&&e()})):!1}var root_path=getZsrc(),libs_path=root_path.replace("js/","")+"libs/",isMobile=isMobile(),zIndex=99,loadingHtml='<span class="z-anim-rotate z-icon">&#xe623;</span>',menuCode="&#xe76d;",dateNow=new Date,zActive="z-active",zShade=null,zBoxs=[".z-alert",".z-modal",".z-album"],winWidth=$(w).innerWidth(),winHeight=$(w).innerHeight(),transTime=200,closeTime=.6*transTime,aniBoxTops=[],z={version:"1.0.0",root_path:root_path,libs_path:libs_path,zIndex:function(){return++zIndex},anims:["z-anim-upbit","z-anim-scale","z-anim-scaleSpring","z-anim-up"],libs:{form:{src:libs_path+"jquery.form.min"},waterfall:{src:libs_path+"masonry-docs.min"},jscrollpane:{src:libs_path+"jquery.jscrollpane.min"},datepicker:{src:libs_path+"bootstrap-datetimepicker.min"},lazyload:{src:libs_path+"jquery-lazyload.min"}},title:{alert:"警告框",confirm:"询问框",prompt:"输入框",open:"提示窗体"},isMobile:isMobile};$.extend({createShade:function(t,e,n){zShade?t():(zShade=$('<div class="z-shade" style="z-index:'+z.zIndex()+";"+function(){return n?"opacity:"+n:""}()+'"></div>'),$("body").addClass("overflow").append(zShade),zShade.fadeIn(transTime,t)),zShade.on("click",function(){e&&e()})},resetForm:function(t){var e=[];if("undefined"===$.type(t)){var n=$('input[type="radio"]');n.length&&e.push(n);var i=$('input[type="checkbox"]');i.length&&e.push(i)}else!t instanceof $&&(t=$(t)),e.push(t);if(e.length)for(var o=0;o<e.length;o++)e[o].length&&resetForm(e[o])},submit:function(ele,cb,tip){function doing(){form.find("fieldset").length||form.wrapInner("<fieldset></fieldset>");var fieldset=form.find("fieldset");if(fieldset.attr("disabled"))return!1;if(fieldset.attr("disabled",!0),bool(tip)){var html=$('<div class="z-msg" style="z-index:'+z.zIndex()+'">'+tip+"</div>");$("body").append(html),html.css({marginTop:-html.innerHeight()/2,marginLeft:-html.innerWidth()/2})}form.ajaxForm(),form.ajaxSubmit({success:function(responseText,statusText,xhr,$form){if("success"==statusText){var ret=responseText;fieldset.removeAttr("disabled"),tip&&html.remove(),"string"===$.type(ret)&&(ret=w.JSON?JSON.parse(responseText):eval(responseText)),cb(ret)}}})}var form=ele instanceof $?ele:$(ele),datatip="undefined"===$.type(form.zdata("tip"));return tip="undefined"===$.type(tip)&&datatip?"数据提交中...":datatip?tip:form.zdata("tip"),form&&form.length&&form.attr("action")?void($.fn.ajaxSubmit&&z.libs.form.isloaded?doing():$.loadJs(z.libs.form.src,function(){z.libs.form.isloaded=!0,doing()})):!1},alert:function(t,e){showMsg("alert",t||"",e||z.title.alert,["","确认"],function(t){doClose(t)})},open:function(t,e){showMsg("open",t||"",e||z.title.open,["","确认"],function(t){doClose(t)})},confirm:function(t,e,n,i){pro_firm("confirm",t,e,n,i)},prompt:function(t,e,n){pro_firm("prompt","",t,e,n)},toast:function(t,e){showMsg("toast",t||"",e||"red")},success:function(t){showMsg("success",t||"","green")},msg:function(t){showMsg("msg",t||"")},loadJs:function(t,e){include("js",t,e)},loadCss:function(t,e){include("css",t,e)},date:function(t,e){var n=dateNow,i="yyyy/MM/dd H:mm",o=n.getTime(),a=!1;"date"===$.type(t)||"number"===$.type(t)?(e=t,t=i):"undefined"===$.type(t)&&(t=i,e=o),"undefined"===$.type(e)?e=o:"string"===$.type(e)?e=parseInt(e):"date"===$.type(e)&&(n=e,a=!0),a||(n=new Date(e));var s=n.getFullYear(),l=n.getMonth(),r=n.getDate(),c=n.getHours(),d=n.getMinutes(),f=n.getSeconds(),u=n.getMilliseconds(),h=n.getTimezoneOffset(),m=n.getDay(),p=["日","一","二","三","四","五","六"],z=c>12?c-12:c,v={"y+":s,"M+":l+1,"d+":r,"H+":c,"h+":0==z?12:z,"m+":d,"s+":f,ms:u,"a+":c>12||0==c?"PM":"AM","w+":m,"W+":p[m],"q+":Math.floor((d+3)/3),"z+":h};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var g in v)new RegExp("("+g+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?v[g]:("00"+v[g]).substr((""+v[g]).length)));return t},back:function(){w.history.go(-1)},reload:function(){location.reload()},supportCss3:supportCss3,loadImg:loadImg}),$.fn.extend({tagName:function(){return this[0].tagName.toLowerCase()},zdata:function(t,e){return"undefined"===$.type(e)?$(this).attr("zdata-"+t):void $(this).attr("zdata-"+t,e)},button:function(t){if($(this).length){var e=null;e=$(this).hasClass("z-disabled")?"reset":"loading",t=t||e,button($(this),t)}},modal:function(t){if($(this).length){var e=$(this);if(e.hasClass("z-modal")&&!("show"===t&&e.is(":visited")||"hide"===t&&e.is(":hidden")))return e.is(":hidden")?void $.createShade(function(){e.css("zIndex",z.zIndex()).show().addClass("z-anim-downbit z-anim-ms3")},function(){doClose(e)}):(doClose(e),e)}},tips:function(t){if($(this).length){var e={bgColor:"black",txtColor:"white",autoDie:!0},n=$.extend({},e,t);tips($(this).selector,n)}},move:function(t){var e={box:".z-move",top:0,right:0,bottom:0,left:0},n=getOpts($(this),e,t);move($(this).selector,n)},slider:function(t){if($(this).length){var e={speed:500,delay:5e3,complete:null,keys:!0,dots:!0,prev:".z-slider-prev",next:".z-slider-next",items:"ul",item:"li"};$(this).each(function(){var n=getOpts($(this),e,t);slider($(this),n)})}},waterfall:function(t){function e(){{var e={itemSelector:".z-waterfall-item",gutter:0,isAnimated:!0};getOpts(n,e,t)}n.css("opacity",0).imagesLoaded(function(){n.masonry(t),n.css("opacity",1)})}if($(this).length){var n=$(this);$.fn.masonry&&z.libs.waterfall.isloaded?e():$.loadJs(z.libs.waterfall.src,function(){z.libs.waterfall.isloaded=!0,e()})}},datepicker:function(t){function e(){var e={minView:"month",format:"yyyy-mm-dd",autoclose:!0},i=getOpts(n,e,t);n.datetimepicker(i)}if($(this).length){var n=$(this);$.fn.datetimepicker&&z.libs.datepicker.isloaded?e():$.loadCss(z.libs.datepicker.src,function(){$.loadJs(z.libs.datepicker.src,function(){z.libs.datepicker.isloaded=!0,e()})})}},goTop:function(t){if($(this).length){var e={top:100,time:transTime},n=$(this),i=getOpts(n,e,t);$(w).on("scroll",function(){n.length&&($(this).scrollTop()>i.top?n.addClass("on"):n.removeClass("on"))}),n.on("click",function(t){var e=t||event;e.preventDefault(),$("body,html").animate({scrollTop:0},i.time)})}},code:function(t){return $(this).length?($(this).each(function(){var e=t||{},n=$(this),i=n.html();n.zdata("title")&&(e.title=n.zdata("title")),n.zdata("skin")&&(e.skin=n.zdata("skin")),n.zdata("encode")&&(e.encode=n.zdata("encode")),n.zdata("about-text")&&n.zdata("about-link")&&(e.about='<a href="'+n.zdata("about-link")+' target="_blank>'+n.zdata("about-text")+"</a>"),e.encode&&(i=i.replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")),n.html('<ol class="z-code-ol"><li>'+i.replace(/[\r\t\n]+/g,"</li><li>")+"</li></ol>"),n.find(">.z-code-h3")[0]||!e.title&&!e.about||n.prepend('<h3 class="z-code-h3">'+(e.title||"code")+(e.about||"")+"</h3>");var o=n.find(">.z-code-ol");n.addClass("z-code-view"),e.skin&&n.addClass("z-code-"+e.skin),(o.find("li").length/100|0)>0&&o.css("margin-left",(o.find("li").length/100|0)+"px"),n.find("li").each(function(){$(this).html("<span>"+$(this).html()+"</span>")})}),$(this)):void 0},aniBox:function(t){if($(this).length){var e={aniName:"z-anim-upbit",aniTime:500},n=$.extend({},e,t);aniBox($(this),n)}},numberBox:function(t){if($(this).length){var e={prev:".z-btn.sub",next:".z-btn.add",input:"input",min:1,max:null,step:1};$(this).each(function(){var n=getOpts($(this),e,t);numberBox($(this),n)})}},swipeleft:function(t){swipe("left",$(this),t)},swiperight:function(t){swipe("right",$(this),t)},mobileNav:function(t){if($(this).length){var e=$(this).first(),n={item:".z-nav-item",logo:"z-logo",style:null,child:".z-dropdown-menu",toggle:!0,"class":"",menu:'<span class="z-icon z-pull-right" style="line-height:1em;color:#fff;padding: 13px;font-size: 24px;">'+menuCode+"</span>"},i=getOpts(e,n,t);mobileNav(e,i)}},flyOut:function(t,e){var n=$(this),i=n.css("opacity"),o=0,a=0,s=winWidth-n.offset().left,l=0,r=13,c=t/r,d=i/c,f=Math.min(s,200)/c,u=10/c;t=t||transTime;var h=setInterval(function(){l+=r,i-=d,o+=f,a+=u,n.css({opacity:i,transform:"translate3d("+o+"px,0,0) skew("+a+"deg, 0deg)"}),l>=t&&(clearInterval(h),e&&e())},r)},flow:function(t,e){if($(this).length){"function"===$.type(t)&&(e=t,t={});var n={scrollElem:d,isAuto:!0,endTxt:"没有更多了",eleTxt:"加载更多",loadingTxt:loadingHtml+"  加载中...",isLazyimg:!1,mb:50,done:e},i=getOpts($(this),n,t);flow($(this),i)}},lazyimg:function(t){if($(this).length&&"img"===$(this).tagName()){var e=t||d;lazyimg($(this),e)}},album:function(t){if($(this).length&&"img"===$(this).tagName()){var e={},n=$.extend({},e,t);album($(this),n)}},dropdown:function(t){var e=$(this);if(!e.length)return!1;var n=!1,i=e.selector;t=t||"click","hover"==t?($("body").on("mouseenter",i,function(){var t=$(this);n=t.parents(".z-nav-tree").length,(n&&bool(t.parent().zdata("toggle"))||!n)&&t.siblings(i).removeClass(zActive),t.addClass(zActive)}),$("body").on("mouseleave",i,function(){$(this).removeClass(zActive)})):"click"==t&&($("body").on("click",i,function(t){var e=$(this),o=t||event;o.stopPropagation(),n=e.parents(".z-nav-tree").length,n&&o.preventDefault(),e.hasClass(zActive)?e.removeClass(zActive):((n&&bool(e.parent().zdata("toggle"))||!n)&&e.siblings(i).removeClass(zActive),e.addClass(zActive))}),$(d).on("click",function(){e.removeClass(zActive)}))}}),$(function(){$(".z-action-code").code(),$(".z-action-datepicker").datepicker(),z.isMobile?$(".z-action-mobilenav").mobileNav():($(".z-action-tips").tips(),$(".z-action-move").move()),$(".z-action-gotop").goTop(),$(".z-action-slider").slider(),$(".z-action-anibox").aniBox(),$(".z-action-lazyimg").lazyimg(),$(".z-action-album").album(),$(".z-action-numberbox").numberBox(),$(".z-action-dropdown").dropdown(),$.resetForm(),$("body").on("click",".z-form-radio",function(){if(!$(this).hasClass(zActive)){var t=$(this).zdata("id"),e=$(this).zdata("name");$('.z-form-radio[zdata-name="'+e+'"]').removeClass(zActive),$(this).addClass(zActive),$('input[type="radio"][name="'+e+'"]').each(function(){this.checked=$(this).zdata("id")===t})}}),$("body").on("click",".z-form-checkbox",function(){var t=$(this).zdata("id");$(this).toggleClass(zActive),$('input[type="checkbox"][zdata-id="'+t+'"]').attr("checked",$(this).hasClass(zActive))}),$("body").on("click",".z-action-modal",function(){var t=$(this).zdata("target");t&&t.length&&$(t).length&&$(t).modal()}),$("body").on("click",".z-action-close",function(){var t=$(this),e=null,n=null;$.each(zBoxs,function(i,o){return t.parents(o).length?(e=t.parents(o),i>0&&(n=e.find(o+"-content")),!1):void 0}),e||(e=t.parents(t.zdata("box"))),n=n||e,e&&e.length&&doClose(e,null,t.zdata("remove"),n)}),$("body").on("click",".z-action-back",function(){$.back()}),$("body").on("click",".z-action-reload",function(){$.reload()}),$("body").on("click",".z-tab-title li",function(){var t=$(this),e=t.parent().find("li"),n=t.parents(".z-tab").find(".z-tab-content .z-tab-item"),i=t.index();t.hasClass(zActive)||(e.removeClass(zActive),t.addClass(zActive),n.removeClass("z-show").eq(i).addClass("z-show"))}),$(".z-nav.z-nav-fixed-top").length&&$("body").css("paddingTop",$(".z-nav.z-nav-fixed-top").innerHeight()+20),$(".z-nav.z-nav-fixed-bottom").length&&$("body").css("paddingBottom",$(".z-nav.z-nav-fixed-bottom").innerHeight()+20),$(d).on("click",".z-disabled,:disabled",function(t){var e=t||event;e.stopPropagation(),e.preventDefault()})}),w.z=z}(window,document,jQuery);