!function(w,d,$,undefined){function album(t){t.css("cursor","pointer"),$(_b).on(_ck,t.selector,function(){function e(){u.css("zIndex",z.zIndex()),u.append(f),l>s.length-1&&(l=0),0>l&&(l=s.length-1);var t=s[l];a=t.src,o=$(t).zdata("tip")||t.title,loadImg(a,function(t){var e=winWidth>768?100:20,n=t.width,i=t.height,a=winWidth-e,r=winHeight-e,d=n,c=i;n/i>a/r?(d=Math.min(n,a),c=i*d/n,$(t).css("maxHeight","100%")):(c=Math.min(i,r),d=n*c/i,$(t).css("maxWidth","100%")),h.width(d).height(c),h.show().css({marginLeft:-d/2-2,marginTop:-c/2-2}),f.remove(),m.html(t),o&&o.length?p.show().html(l+1+"/<b>"+s.length+"</b>&nbsp;&nbsp;"+o):p.hide()})}var n=this,i=$(this);if(this.src&&!i.zdata("src")){var a=i.zdata("bigsrc")||this.src,o=i.zdata("tip")||this.title,s=[],r=i.zdata("group"),l=0;_bool(r,!0)||$(t.selector+'[zdata-group="'+r+'"]').each(function(){s.push(this)}),s.length&&(s.sort(function(t,e){var n=parseInt(_bool($(t).zdata("index"),!0)?$(t).index():$(t).zdata("index")),i=parseInt(_bool($(e).zdata("index"),!0)?$(e).index():$(e).zdata("index"));return n-i}),$.each(s,function(t,e){e===n&&(l=t)}));var r=i.zdata("group"),d=s.length&&!z.isMobile?$(z.sliderBtn):"",c=['<div class="z-album">','<span class="z-close z-action-close" zdata-box=".z-album">&times;</span>','<div class="z-album-content '+z.animCls+" "+_getAnim()+'">','<div class="z-imgbox"></div>','<div class="z-tipbox"></div>',"</div>","</div>"],u=$(c.join("")),f=$(z.loadingHtml),h=u.find(".z-album-content"),m=u.find(".z-imgbox"),p=u.find(".z-tipbox");h.append(d),$.createShade(function(){$(_b).append(u),e()},function(){_doClose(u,null,!0,h)}),z.isMobile?(u.swipeleft(function(t){t.stopPropagation(),t.preventDefault(),--l,e()}),u.swiperight(function(t){t.stopPropagation(),t.preventDefault(),++l,e()})):d.on(_ck,function(){$(this).hasClass(sliderLeftCls)?--l:++l,e()})}})}function lazyimg(t,e,n,i){function a(i,a){var r=e.scrollTop(),d=r+a,c=l?function(){return i.offset().top-e.offset().top+r}():i.offset().top;if(c>=r&&d>=c&&i.zdata("src")){var u=i.zdata("src");loadImg(u,function(){var e=t.eq(s);i.attr("src",u).removeAttr("zdata-src"),n&&n(i),e[0]&&o(e),s++})}}function o(n,i){var o=l?(i||e).height():winHeight,r=e.scrollTop(),d=r+o;if(n)a(n,o);else for(var c=0;c<t.length;c++){var u=t.eq(c),f=l?function(){return u.offset().top-e.offset().top+r}():u.offset().top;if(a(u,o),s=c,f>d)break}}var s=0,r=i,l=e&&e!==d;if(e=$(e),o(),!r){var c;e.on("scroll",function(){var t=$(this);c&&clearTimeout(c),c=setTimeout(function(){o(null,t)},100)}),r=!0}}function loadImg(t,e,n){var i=new Image;return i.src=t,i.complete?e(i):(i.onload=function(){i.onload=null,e(i)},void(i.onerror=function(t){i.onerror=null,n&&n(t)}))}function flow(t,e){function n(t,n){r.text(e.eleTxt).before(t),n=0==n?!0:null,n&&r.addClass("z-disabled").text(e.endTxt),o=n,a=null}function i(){a=!0,r.html(e.loadingTxt),"function"===$.type(e.done)&&e.done(++l,n)}var a,o,s,r=$('<button type="button" class="z-btn z-block z-btn-flow">'+e.eleTxt+"</button>"),l=1,c=_bool(e.isLazyimg),u=e.scrollElem&&e.scrollElem!==d;return t.find(".z-btn-flow").length||t.append(r),r.on(_ck,function(){o||a||i()}),c&&lazyimg(t.find("img"),e.scrollElem,"function"===$.type(e.isLazyimg)?e.isLazyimg:null,!0),e.isAuto?($(e.scrollElem).on("scroll",function(){var n=$(this),r=n.scrollTop();return s&&clearTimeout(s),o?t:void(s=setTimeout(function(){var o=u?n.innerHeight():winHeight,s=u?n.prop("scrollHeight"):d.documentElement.scrollHeight;c&&lazyimg(t.find("img"),e.scrollElem,"function"===$.type(e.isLazyimg)?e.isLazyimg:null,!0),s-r-o<=e.mb&&(a||i())},100))}),t):t}function numberBox(t,e){var n=t.find(e.input),i=t.find(e.next),a=t.find(e.prev),o=parseFloat(e.step),s=parseFloat(e.max),r=parseFloat(e.min);n&&i&&a&&n.length&&i.length&&a.length&&(s&&r>s||(n.off("change").on("change",function(){var t=parseFloat($(this).val());isNaN(t)&&(t=r),r>=t?($(this).val(r),a.addClass("z-disabled")):a.removeClass("z-disabled"),s&&t>=parseFloat(s)?($(this).val(s),i.addClass("z-disabled")):i.removeClass("z-disabled")}),i.off(_ck).on(_ck,function(){var t=parseFloat(n.val());$(this).hasClass("z-disabled")||(t+=o,n.val(t).change())}),a.off(_ck).on(_ck,function(){var t=parseFloat(n.val());$(this).hasClass("z-disabled")||(t-=o,n.val(t).change())}),n.change()))}function mobileNav(t,e){var n=!0,i=t.find(e.item),a=$('<ul class="z-nav z-nav-tree z-nav-mobile"></ul>'),o="",s=$('<ul class="z-menu"><li></li><li></li><li></li></ul>'),r=e.child.substr(1);i.each(function(){$(this).hasClass(e.logo.replace(".",""))&&(o=$(this)),a.append($(this).addClass("z-nav-item"))}),t.html(o).append(s).addClass("z-nav-fixed-top").removeClass("z-action-mobilenav"),a.find(e.child).each(function(){$(this).removeClass(r).addClass("z-nav-child").parent().removeClass("z-dropdown")}),e.navCls&&a.addClass(e.navCls),e.toggle&&a.zdata("toggle",e.toggle),e.menuCls&&s.addClass(e.menuCls),t.after(a),s.on(_ck,function(){if(!n)return!1;n=!1;var e=$(this);a.is(":hidden")?($.createShade(function(){a.css("zIndex",z.zIndex()).show().animate({left:0},z.transTime),e.addClass(z.active),n=!0},function(){s.click()},".12"),t.css("zIndex",z.zIndex())):a.animate({left:"-100%"},z.transTime,function(){a.hide(),e.removeClass(z.active),closeShade(function(){n=!0})})}),z.isMobile&&($(d).swiperight(function(){return a.is(":hidden")?void s.click():!1}),$(d).swipeleft(function(){return a.is(":hidden")?!1:void s.click()}))}function swipe(t,e,n){var i=0,a=0,o=event,s=!1,r=null;e.on("touchstart",function(t){t.stopPropagation(),o=t.originalEvent.touches[0],i=o.clientX,a=o.clientY,s=!0,r=setTimeout(function(){s=!1},z.transTime)}),e.on("touchend",function(e){e.stopPropagation(),o=e.originalEvent.changedTouches[0];var l="left"===t?i-o.clientX:o.clientX-i;l>50&&Math.abs(a-o.clientY)<50&&(n&&s&&n(e),r&&clearTimeout(r))})}function resetForm(t){t.each(function(t){var e=this.checked,n=this.name,i=n+t.toString(),a=this.type;if(_bool($(this).zdata("noreform")))return $(this).show(),!0;if(_bool($(this).zdata("name"),!0)){var o='<div class="z-unselect z-form-'+a+function(){return e?" "+z.active:""}()+'" zdata-id="'+i+'" zdata-name="'+n+'"><i class="z-anim z-icon">'+function(){return"radio"==a?"&#xe998;":"&#xe615;"}()+"</i><span>"+this.title+"</span></div>";$(this).zdata("id",i),$(this).after(o)}})}function include(t,e,n){function i(){if(r<e.length){var n=e[r];if(_getZsrc(n))return void a();n.substr(-s.length)!==s&&(n+=s),-1===n.indexOf("://")&&(n=z.root_path+n),"js"===t?(o=d.createElement("script"),o.src=n):"css"===t&&(o=d.createElement("link"),o.rel="stylesheet",o.href=n),d.head.appendChild(o),o.onload=function(){a()}}}function a(){r===e.length-1?n&&n():(r++,i())}if(e&&("string"===$.type(e)&&(e=[e]),"array"===$.type(e))){var o,s="."+t,r=0;i()}}function showMsg(t,e,n,i,a){var o="",s=[],r=["alert","confirm","prompt","open"],l=4e3,d='<button type="button" class="z-close z-action-close">&times;</button>';if(-1!==$.inArray(t,r)){var c=z.title[t],u=z.btns;"array"===$.type(n)?("array"!==$.type(i)&&(i=n),n=c):"function"===$.type(n)&&("function"!==$.type(a)&&(a=n),n=c),"function"===$.type(i)&&("function"!==$.type(a)&&(a=i),i=u),n=n||c,_bool(i,!0)&&(i=u),_bool(e,!0)&&(e=""),s=['<div class="z-modal z-move '+function(){return"open"===t?"":"z-modal-sm"}()+" "+z.animCls+" "+_getAnim()+'">','<div class="z-modal-header z-move-title z-action-move">',d,'<h4 class="z-modal-title">'+n+"</h4>","</div>",'<div class="z-modal-body">',e,"</div>",'<div class="z-modal-footer z-text-center">'],"alert"===t?i=["",i.slice(-1)]:"open"!==t&&(i=i.slice(0,2));for(var f=0;f<i.length;f++)i[f].length&&s.push('<button type="button" class="z-btn z-btn-'+z.color[f]+'">'+i[f]+"</button>");s.push("</div></div>"),o=$(s.join("")),$.createShade(function(){$(_b).append(o),o.css("zIndex",z.zIndex()).show();var t=o.innerWidth(),e=o.innerHeight(),n=winWidth,i=winHeight;o.css({margin:0,top:(i-e)/3>0?(i-e)/3:0,left:(n-t)/2>0?(n-t)/2:0}),_modalHeight(o),o.find(".z-modal-footer .z-btn").on(_ck,function(){a&&a(o,$(this).index())})})}else if("msg"===t)$(".z-msg").remove(),o=$('<div class="z-msg '+z.anims[2]+" "+z.animCls+'" style="z-index:'+z.zIndex()+'">'+e+"</div>"),$(_b).append(o),o.css({marginTop:-o.innerHeight()/2,marginLeft:-o.innerWidth()/2}),setTimeout(function(){o.hide(z.closeTime,function(){o.remove()})},l);else{var h=n;a=i,s=['<div class="z-alert z-alert-'+h+" z-alert-box z-alert-dismissible "+z.anims[4]+" "+z.animCls+'" style="z-index:'+z.zIndex()+'">',d,e,"</div>"],o=$(s.join("")),$(_b).append(o),a&&a(),setTimeout(function(){_doClose(o)},l)}}function button(t,e){if("loading"===e){if(t.hasClass("z-disabled"))return!1;var n=t.zdata("loading-text")||"loading";n=z.loadingHtml+"  "+n,t.attr("disabled","true").addClass("z-disabled").attr("zdata-old-text",t.html()).html(n)}else if("reset"===e){if(!t.hasClass("z-disabled"))return!1;var n=t.zdata("old-text")||"resetBtn";t.removeAttr("disabled").removeAttr("zdata-old-text").removeClass("z-disabled").html(n)}}function tips(t,e){var n=null;$(_b).on("mouseenter",t,function(t){var i=t||event,a=this.title,o=$(this).zdata("title"),s=$(this);if(i.stopPropagation(),a||o){a&&($(this).zdata("title",a),$(this).removeAttr("title")),e=_getOpts(s,e);var r=this.offsetWidth,l=s.offset(),c=s.zdata("title"),u="",f=['<div class="z-tipsbox '+z.anims[1]+" "+z.animCls+'" style="z-index:'+z.zIndex()+";top:"+(l.top-40)+"px;left:"+function(){var t=l.left;return 17>r&&(t-=17),0>t&&(t=0),t}()+'px">','<div class="z-tipsbox-content"'+function(){var t='style="';return"black"!==e.bgColor&&(t+="background-color: "+e.bgColor+";"),"white"!==e.txtColor&&(t+="color: "+e.txtColor+";"),t+='"'}()+">",c,'</div><i style="border-right-color:'+e.bgColor+'"></i>',"</div>"];u=$(f.join("")),$(".z-tipsbox").remove(),$(_b).append(u);var h=l.top-u.innerHeight()-10;h-$(d).scrollTop()<0?u.css("top",l.top+s.innerHeight()+10).find("i").css({top:"-8px",bottom:"auto"}):u.css("top",h),_bool(e.autoDie)&&(n&&clearTimeout(n),n=setTimeout(function(){u.remove()},5e3)),s.on("mouseleave",function(){n&&clearTimeout(n),$(".z-tipsbox").remove()})}})}function move(t,e){var n=!1,i=0,a=0,o=0,s=0,r=winWidth,l=winHeight,c=null;$(w).on("mousemove",function(t){if(n&&c){var d=t||event;d.stopPropagation(),d.preventDefault();var u=_mousePosition(d),f=u.left-a,h=u.top-i;h<e.top&&(h=e.top),f<e.left&&(f=e.left),h>l-s-e.bottom&&(h=l-s-e.bottom),f>r-o-e.right&&(f=r-o-e.right),c.css({left:f,top:h})}}),$(_b).on("mousedown",t,function(t){n=!0;var r=t||event;c=$(this).parents(e.box);var l=c.offset(),u=_mousePosition(r);o=c.innerWidth(),s=c.innerHeight(),i=u.top-(l.top-$(d).scrollTop()),a=u.left-(l.left-$(d).scrollLeft()),c.css("zIndex",z.zIndex())}),$(_b).on("mouseup",t,function(){n=!1,c=null})}function slider(t,e){function n(t){l=!1,t=t||"left","left"===t?(Math.abs(f)>=(s-2)*i&&(f=0,u.css(h,f)),f-=i):"right"===t?(Math.abs(f)<=i&&(f=-(s-1)*i,u.css(h,f)),f+=i):f=t,u.animate({marginLeft:f},e.speed,function(){d=parseInt((Math.abs(f)-i)/i),c&&c.removeClass(z.active).eq(d).addClass(z.active),e.complete&&e.complete(a.eq(d+1)),l=!0})}e=_getOpts(t,e);var i=t.innerWidth(),a=t.find(e.item),o=t.find(e.items),s=a.length,r=null,l=!0,d=0,c=null,u=null,f=-i,h="marginLeft",m=s>1&&!z.isMobile?$(z.sliderBtn):"";if(_bool(e.dots)&&(t.append('<div class="z-dots">'+function(){for(var t="",e=0;s>e;e++)t+=0===e?'<a href="javascript:;" class="'+z.active+'"></a>':'<a href="javascript:;"></a>';return t}()+"</div>"),c=t.find(".z-dots>a"),_bool(e.keys)&&c.on(_ck,function(){n(-($(this).index()+1)*i)})),t.width(i).append(m),s>1){var p=a.eq(0).clone(),v=a.eq(s-1).clone();if(o.prepend(v),o.append(p),a=t.find(e.item),s=a.length,o.wrap("<div></div>"),u=o.parent(),u.css(h,f),a.width(i),o.height(a.innerHeight()).width(s*i),r=setInterval(n,e.delay),z.isMobile){var g=null,b=0,x="left",_=0;t.on("touchmove",function(t){t.stopPropagation(),t.preventDefault(),_=g.clientX-b,g=t.originalEvent.changedTouches[0],u.css(h,f+_)}),t.on("touchstart",function(t){t.preventDefault(),t.stopPropagation(),g=t.originalEvent.touches[0],b=g.clientX,clearInterval(r)}),t.on("touchend",function(t){t.preventDefault(),t.stopPropagation(),g=t.originalEvent.changedTouches[0],x=g.clientX-b>0?"right":"left",n(x),r=setInterval(n,e.delay)})}else t.on("mouseenter",function(){clearInterval(r)}),t.on("mouseleave",function(){r=setInterval(n,e.delay)}),m.on(_ck,function(){clearInterval(r),l&&n($(this).hasClass(sliderLeftCls)?"left":"right")})}}function supportCss3(t){var e,n=["webkit","Moz","ms","o"],i=[],a=d.documentElement.style,o=function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})};t=t||"animation";for(e in n)i.push(o(n[e]+"-"+t));i.push(o(t));for(e in i)if(i[e]in a)return!0;return!1}function aniBox(t,e){function n(){if(!i){var e=$(d).scrollTop();if(a>=e){var n=[];if(t.each(function(){var t=$(this);t.zdata("aniName")&&parseInt(t.zdata("top"))<=e+winHeight&&n.push(t)}),n.length)var o=0,s=setInterval(function(){if(o>=n.length)return void clearInterval(s);var t=n[o];t.addClass(t.zdata("aniName")).addClass("z-anim-ms"+parseInt(t.zdata("aniTime"))/100).removeAttr("zdata-top").removeAttr("zdata-aniName").removeAttr("zdata-aniTime").animate({opacity:1},z.transTime),++o},100)}else t.css("opacity",1),i=!0}}var i=!1;t.each(function(){var t=$(this).offset().top;aniBoxTops.push(t),$(this).css("opacity",0).zdata("top",t),$(this).zdata("aniName")||$(this).zdata("aniName",e.aniName?e.aniName:_getAnim()),$(this).zdata("aniTime")||$(this).zdata("aniTime",e.aniTime)});var a=Math.max.apply({},aniBoxTops);a=Math.min(a,$(d).innerHeight()-winHeight),n(),$(w).on("scroll",n)}function isMobile(){return navigator.userAgent.match(/mobile/i)}function closeShade(t,e,n){return zShade?(n&&(shades=0),--shades,void(0>=shades&&(shades=0,"function"===$.type(t)&&(e=t,t=z.transTime),t=t||z.transTime,zShade.fadeOut(t,function(){zShade.remove(),$(_b).removeClass("overflow"),zShade=null,e&&e()})))):!1}function _getCb(t){var e;return $.each(t,function(t,n){return"function"===$.type(n)?(e=n,!1):void 0}),e}function _getZsrc(t){for(var e=d.getElementsByTagName("script"),n=0;n<e.length;n++){var i=e[n];if(t&&-1!==i.src.indexOf(t))return!0;if(!t&&-1!==i.src.indexOf("js/z.js"))return i.src.replace("z.js","");if(!t&&-1!==i.src.indexOf("js/z.min.js"))return i.src.replace("z.min.js","")}return!1}function _getAnim(){return z.anims[Math.floor(Math.random()*z.anims.length)]}function _doClose(t,e,n,i){function a(){!t.hasClass(zBoxs[0].cls.replace(".",""))&&closeShade(o),n&&t.remove(),e&&e()}var i=i||t,o=z.closeTime;_bool(n,!0)&&(n=!0),n=_bool(n),n?i.flyOut(o,a):t.slideUp(o,a)}function _mousePosition(t){return{top:t.clientY,left:t.clientX}}function _getOpts(t,e,n){var i=e;return n&&(i=$.extend({},e,n)),$.each(i,function(e){_bool(t.zdata(e),!0)||(i[e]=t.zdata(e))}),i}function _bool(t,e){var n="undefined"===$.type(t);return e?n:n?!1:"boolean"===$.type(t)?t:"false"==t?!1:!0}function _modalHeight(t){var e=t.children(".z-modal-header"),n=t.children(".z-modal-body"),i=t.children(".z-modal-footer");n.css("maxHeight",t.innerHeight()-e.innerHeight()-i.innerHeight())}var root_path=_getZsrc(),libs_path=root_path.replace("js/","")+"libs/",isMobile=isMobile(),dateNow=new Date,zShade=null,shades=0,zBoxs=[{cls:".z-alert"},{cls:".z-modal"},{cls:".z-album",ani:!0}],log=console.log,_ck="click",_b="body",winWidth=$(w).innerWidth(),winHeight=$(w).innerHeight(),transTime=200,aniBoxTops=[],z={version:"1.0.0",root_path:root_path,libs_path:libs_path,index:99,zIndex:function(){return++this.index},anims:["z-anim-upbit","z-anim-scale","z-anim-scaleSpring","z-anim-up","z-anim-downbit"],animCls:"z-anim-ms3",libs:{form:{src:libs_path+"jquery.form.min"},waterfall:{src:libs_path+"masonry-docs.min"},jscrollpane:{src:libs_path+"jquery.jscrollpane.min"},datepicker:{src:libs_path+"bootstrap-datetimepicker.min"}},title:{alert:"警告框",confirm:"询问框",prompt:"输入框",open:"提示窗体"},btns:["取消","确认"],color:["default","blue","yellow","red","dark","green"],isMobile:isMobile,transTime:transTime,closeTime:.6*transTime,successTime:8*transTime,active:"z-active",dt:dateNow,loadingHtml:'<span class="z-anim-rotate z-icon">&#xe624;</span>',sliderBtn:'<button class="z-slider-btn z-icon z-slider-prev">&#xe605;</button><button class="z-slider-btn z-icon z-slider-next">&#xe61d;</button>',winWidth:winWidth,winHeight:winHeight},sliderLeftCls=function(){return $(z.sliderBtn)[0].className}();$.extend({createShade:function(t,e,n){zShade?t&&t():(zShade=$('<div class="z-shade" style="z-index:'+z.zIndex()+";"+function(){return _bool(n)?"opacity:"+n:""}()+'"></div>'),$(_b).addClass("z-overflow").append(zShade),zShade.fadeIn(z.transTime,t&&t)),++shades,zShade.on(_ck,function(){e&&e()&&closeShade()})},closeShade:closeShade,resetForm:function(t){var e=[];if(_bool(t,!0)){var n=$('.z-form input[type="radio"]');n.length&&e.push(n);var i=$('.z-form input[type="checkbox"]');i.length&&e.push(i)}else!t instanceof $&&(t=$(t)),e.push(t);if(e.length)for(var a=0;a<e.length;a++)e[a].length&&resetForm(e[a])},submit:function(ele,cb,tip){function doing(){form.find("fieldset").length||form.wrapInner("<fieldset></fieldset>");var fieldset=form.find("fieldset");if(fieldset.attr("disabled"))return!1;if(fieldset.attr("disabled",!0),_bool(tip)){var html=$('<div class="z-msg" style="z-index:'+z.zIndex()+'">'+tip+"</div>");$(_b).append(html),html.css({marginTop:-html.innerHeight()/2,marginLeft:-html.innerWidth()/2})}form.ajaxForm(),form.ajaxSubmit({success:function(responseText,statusText,xhr,$form){if("success"==statusText){var ret=responseText;fieldset.removeAttr("disabled"),tip&&html.remove(),"string"===$.type(ret)&&(ret=w.JSON?JSON.parse(responseText):eval(responseText)),cb(ret)}}})}var form=ele instanceof $?ele:$(ele),datatip=_bool(form.zdata("tip"),!0);return tip=_bool(tip,!0)&&datatip?"数据提交中...":datatip?tip:form.zdata("tip"),form&&form.length&&form.attr("action")?void($.fn.ajaxSubmit&&z.libs.form.isloaded?doing():$.loadJs(z.libs.form.src,function(){z.libs.form.isloaded=!0,doing()})):!1},alert:function(t,e){showMsg("alert",t,e,function(t){_doClose(t)})},open:function(t,e,n,i){i=_getCb(arguments),showMsg("open",t,e,n,function(t,e){(i&&!i(e,t)||!i)&&_doClose(t)})},confirm:function(t,e,n,i){i=_getCb(arguments),showMsg("confirm",t,e,n,function(t,e){i&&e>0&&i(e,t),_doClose(t)})},prompt:function(t,e,n){n=_getCb(arguments),showMsg("prompt",'<input type="text" autofocus class="z-input" placeholder="'+function(){return t||z.title.prompt}()+'" />',t,e,function(t,e){n&&e>0&&n(t.find(".z-input").val()),_doClose(t)})},toast:function(t,e){showMsg("toast",t,e||z.color[3])},success:function(t,e){showMsg("success",t,z.color[5],e&&function(){var t=$('<div class="z-shade" style="z-index:'+z.zIndex()+';opacity:0;display:block;"></div>');$(_b).append(t),setTimeout(function(){e(),t.remove()},z.successTime)})},msg:function(t){showMsg("msg",t)},loadJs:function(t,e){include("js",t,e)},loadCss:function(t,e){include("css",t,e)},date:function(t,e){var n=dateNow,i="yyyy/MM/dd H:mm",a=n.getTime(),o=!1;"date"===$.type(t)||"number"===$.type(t)?(e=t,t=i):_bool(t,!0)&&(t=i,e=a),_bool(e,!0)?e=a:"string"===$.type(e)?e=parseInt(e):"date"===$.type(e)&&(n=e,o=!0),o||(n=new Date(e));var s=n.getFullYear(),r=n.getMonth(),l=n.getDate(),d=n.getHours(),c=n.getMinutes(),u=n.getSeconds(),f=n.getMilliseconds(),h=n.getTimezoneOffset(),m=n.getDay(),p=["日","一","二","三","四","五","六"],z=d>12?d-12:d,v={"y+":s,"M+":r+1,"d+":l,"H+":d,"h+":0==z?12:z,"m+":c,"s+":u,ms:f,"a+":d>12||0==d?"PM":"AM","w+":m,"W+":p[m],"q+":Math.floor((c+3)/3),"z+":h};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var g in v)new RegExp("("+g+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?v[g]:("00"+v[g]).substr((""+v[g]).length)));return t},back:function(){w.history.go(-1)},getFileUrl:function(t){var e=null;return window.createObjectURL!=undefined?e=window.createObjectURL(t):window.URL!=undefined?e=window.URL.createObjectURL(t):window.webkitURL!=undefined&&(e=window.webkitURL.createObjectURL(t)),e},reload:location.reload,supportCss3:supportCss3,loadImg:loadImg}),$.fn.extend({tagName:function(){return this[0].tagName.toLowerCase()},className:function(t){return $(this).each(function(){this.className=t}),$(this)},zdata:function(t,e){return _bool(e,!0)?$(this).attr("zdata-"+t):($(this).attr("zdata-"+t,e),$(this))},button:function(t){var e=$(this);if(!e.length)return e;var n=null;return n=e.hasClass("z-disabled")?"reset":"loading",t=t||n,button(e,t),e},modal:function(t){var e=$(this);return e.length&&e.hasClass("z-modal")?"show"===t&&e.is(":visited")?e:"hide"===t&&e.is(":hidden")?e:(e.is(":hidden")?$.createShade(function(){e.css("zIndex",z.zIndex()).show().css({left:"50%",marginLeft:-e.innerWidth()/2}).addClass(z.anims[4]+" "+z.animCls),_modalHeight(e)},function(){_doClose(e,null,!1)}):_doClose(e,null,!1),e):e},tips:function(t){var e=$(this);if(!e.length)return e;var n={bgColor:"black",txtColor:"white",autoDie:!0},i=$.extend({},n,t);return tips(e.selector,i),e},move:function(t){var e=$(this),n={box:".z-move",top:0,right:0,bottom:0,left:0},i=_getOpts(e,n,t);return move(e.selector,i),e},slider:function(t){var e=$(this);if(!e.length)return e;var n={speed:500,delay:5e3,complete:null,keys:!0,dots:!0,items:"ul",item:"li"};return e.each(function(){var e=_getOpts($(this),n,t);slider($(this),e)}),e},waterfall:function(t){function e(){{var e={itemSelector:".z-waterfall-item",gutter:0,isAnimated:!0};_getOpts(n,e,t)}n.css("opacity",0).imagesLoaded(function(){n.masonry(t),n.css("opacity",1)})}var n=$(this);return n.length?($.fn.masonry&&z.libs.waterfall.isloaded?e():$.loadJs(z.libs.waterfall.src,function(){z.libs.waterfall.isloaded=!0,e()}),n):n},datepicker:function(t){function e(){var e={minView:"month",format:"yyyy-mm-dd",autoclose:!0},i=_getOpts(n,e,t);n.datetimepicker(i)}var n=$(this);return n.length?($.fn.datetimepicker&&z.libs.datepicker.isloaded?e():$.loadCss(z.libs.datepicker.src,function(){$.loadJs(z.libs.datepicker.src,function(){z.libs.datepicker.isloaded=!0,e()})}),n):n},hovercard:function(){function t(){var t,a,o,s=n.offset(),r=n.innerWidth(),l=n.innerHeight(),c=e.innerWidth(),u=e.innerHeight(),f=$(d).scrollTop(),h=$(d).scrollLeft(),m=10;winHeight-(s.top-f+l+u+m)>=0?(t=s.top+l+m,a=s.left,o=""):s.top-f-(u+m)>=0?(t=s.top-u-m,a=s.left,o="z-dropdown-menu-bottom"):s.left-h-(c+m)>=0?(t=s.top,a=s.left-c-m,o="z-dropdown-menu-right z-dropdown-menu-child"):(t=s.top,a=s.left+r+m,o="z-dropdown-menu-child"),e.show().className(i+o).css({top:t,left:a})}var e,n,i,a,o=$(this).selector;$(_b).on("mouseenter",o,function(o){var s=o||event,r=$(this),l='<div class="z-loadingbox">'+z.loadingHtml+"</div>";s.stopPropagation(),a&&clearTimeout(a),a=setTimeout(function(){if(e=$(".z-hovercard"),n=r,r.zdata("html")||r.zdata("url")){if(!e.length){i="z-dropdown-menu z-hovercard ";var a=['<div class="'+i+'">',l,"</div>"];e=$(a.join("")),$(_b).append(e)}r.zdata("html")?(e.html(r.zdata("html")),t()):r.zdata("url")&&(e.html(l),t(),$.get(r.zdata("url"),function(n){e.html(n),t()}))}},800),r.on("mouseleave",function(){a&&clearTimeout(a),e&&e.fadeOut(z.transTime)})})},goTop:function(t){var e=$(this);if(!e.length)return e;var n={top:100,time:z.transTime},i=e,a=_getOpts(i,n,t);return $(w).on("scroll",function(){return i.length?void($(this).scrollTop()>a.top?i.addClass("on"):i.removeClass("on")):i}),i.on(_ck,function(t){var e=t||event;e.preventDefault(),$("body,html").animate({scrollTop:0},a.time)}),i},code:function(t){var e=$(this);return e.length?(e.each(function(){var e=t||{},n=$(this),i=n.html();n.zdata("title")&&(e.title=n.zdata("title")),n.zdata("skin")&&(e.skin=n.zdata("skin")),n.zdata("encode")&&(e.encode=n.zdata("encode")),n.zdata("about-text")&&n.zdata("about-link")&&(e.about='<a href="'+n.zdata("about-link")+' target="_blank>'+n.zdata("about-text")+"</a>"),e.encode&&(i=i.replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")),n.html('<ol class="z-code-ol"><li>'+i.replace(/[\r\t\n]+/g,"</li><li>")+"</li></ol>"),n.find(">.z-code-h3")[0]||!e.title&&!e.about||n.prepend('<h3 class="z-code-h3">'+(e.title||"code")+(e.about||"")+"</h3>");var a=n.find(">.z-code-ol");n.addClass("z-code-view"),e.skin&&n.addClass("z-code-"+e.skin),(a.find("li").length/100|0)>0&&a.css("margin-left",(a.find("li").length/100|0)+"px"),n.find("li").each(function(){$(this).html("<span>"+$(this).html()+"</span>")})}),e):e},aniBox:function(t){var e=$(this);if(!e.length)return e;var n={aniName:z.anims[0],aniTime:500},i=$.extend({},n,t);return aniBox(e,i),e},numberBox:function(t){var e=$(this);if(!e.length)return e;var n={prev:".z-btn.z-sub",next:".z-btn.z-add",input:"input",min:1,max:null,step:1};return e.each(function(){var e=_getOpts($(this),n,t);numberBox($(this),e)}),e},swipeleft:function(t){return swipe("left",$(this),t),$(this)},swiperight:function(t){return swipe("right",$(this),t),$(this)},mobileNav:function(t){var e=$(this);if(e.length){var n=e.first(),i={item:".z-nav-item",logo:"z-logo",navCls:"z-nav-blue",menuCls:"",child:".z-dropdown-menu",toggle:!0},a=_getOpts(n,i,t);return mobileNav(n,a),e}},flyOut:function(t,e){var n=$(this),i=n.css("opacity"),a=0,o=0,s=winWidth-n.offset().left,r=0,l=13,d=t/l,c=i/d,u=Math.min(s,200)/d,f=10/d;t=t||z.transTime;var h=setInterval(function(){r+=l,i-=c,a+=u,o+=f,n.css({opacity:i,transform:"translate3d("+a+"px,0,0) skew("+o+"deg, 0deg)"}),r>=t&&(clearInterval(h),e&&e())},l);return n},flow:function(t,e){var n=$(this);if(!n.length)return n;"function"===$.type(t)&&(e=t,t={});var i={scrollElem:d,isAuto:!0,endTxt:"没有更多了",eleTxt:"加载更多",loadingTxt:z.loadingHtml+"  加载中...",isLazyimg:!1,mb:50,done:e},a=_getOpts(n,i,t);return flow(n,a),n},lazyimg:function(t,e){var n=$(this);if(!n.length||"img"!==n.tagName())return n;"function"===$.type(t)&&(e=t,t=d);var i=t||d;return lazyimg(n,i,e),n},album:function(){var t=$(this);return t.length&&"img"===t.tagName()?(album(t),t):t},dropdown:function(t){var e=$(this);if(!e.length)return e;var n=!1,i=e.selector,a=".z-nav-tree";return t=t||_ck,"hover"==t?($(_b).on("mouseenter",i,function(){var t=$(this);n=t.parents(a).length,(n&&_bool(t.parent().zdata("toggle"))||!n)&&$(i).removeClass(z.active),t.addClass(z.active)}),$(_b).on("mouseleave",i,function(){$(this).removeClass(z.active)})):t==_ck&&($(_b).on(_ck,i,function(t){var e=$(this),o=t||event;o.stopPropagation(),n=e.parents(a).length,n&&e.context===o.target.parentNode&&o.preventDefault(),e.hasClass(z.active)?e.removeClass(z.active):((n&&_bool(e.parent().zdata("toggle"))||!n)&&$(i).removeClass(z.active),e.addClass(z.active))}),$(d).on(_ck,function(){e.each(function(){$(this).parents(a).length||$(this).removeClass(z.active)})})),e}}),$(function(){$(".z-action-code").code(),$(".z-action-datepicker").datepicker(),z.isMobile?$(".z-action-mobilenav").mobileNav():($(".z-action-hovercard").hovercard(),$(".z-action-tips").tips(),$(".z-action-move").move()),$(".z-action-gotop").goTop(),$(".z-action-slider").slider(),$(".z-action-anibox").aniBox(),$(".z-action-lazyimg").lazyimg(),$(".z-action-album").album(),$(".z-action-numberbox").numberBox(),$(".z-action-dropdown").dropdown(),$(".z-action-dropdown-hover").dropdown("hover"),$.resetForm(),$(_b).on(_ck,".z-form-radio",function(){if(!$(this).hasClass(z.active)){var t=$(this).zdata("id"),e=$(this).zdata("name");$('.z-form-radio[zdata-name="'+e+'"]').removeClass(z.active),$(this).addClass(z.active),$('input[type="radio"][name="'+e+'"]').each(function(){this.checked=$(this).zdata("id")===t,$(this).change()})}}),$(_b).on(_ck,".z-form-checkbox",function(){var t=$(this).zdata("id"),e=$(this);e.toggleClass(z.active),$('input[type="checkbox"][zdata-id="'+t+'"]').each(function(){this.checked=e.hasClass(z.active),$(this).change()})}),$(_b).on(_ck,".z-action-modal",function(){var t=$(this).zdata("target");t&&t.length&&$(t).length&&$(t).modal()}),$(_b).on(_ck,".z-action-close",function(){var t=$(this),e=null,n=null;$.each(zBoxs,function(i,a){var o=a.cls,s=a.ani;return t.parents(o).length?(e=t.parents(o),s&&(n=e.find(o+"-content")),!1):void 0}),e||(e=t.parents(t.zdata("box"))),n=n||e,e&&e.length&&_doClose(e,null,t.zdata("remove"),n)}),$(_b).on(_ck,".z-action-back",function(){$.back()}),$(_b).on(_ck,".z-action-reload",function(){$.reload()}),$(_b).on(_ck,".z-tab-title li",function(){var t=$(this),e=t.parent().find("li"),n=t.parents(".z-tab").find(".z-tab-content .z-tab-item"),i=t.index();t.hasClass(z.active)||(e.removeClass(z.active),t.addClass(z.active),n.removeClass("z-show").eq(i).addClass("z-show"))}),$(".z-nav.z-nav-fixed-top").length&&$(_b).css("paddingTop",$(".z-nav.z-nav-fixed-top").innerHeight()+20),$(".z-nav.z-nav-fixed-bottom").length&&$(_b).css("paddingBottom",$(".z-nav.z-nav-fixed-bottom").innerHeight()+20),$(d).on(_ck,".z-disabled,:disabled",function(t){var e=t||event;e.stopPropagation(),e.preventDefault()})}),w.z=z}(window,document,jQuery);